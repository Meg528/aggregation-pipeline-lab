# 🦸‍♂️ Repeating stages

:::info
Extra activity, do it if you have extra time or are following at home, won't be covered during the hands-on Lab
:::


From the [Aggregation Pipelines manual](https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/#stages).

> All stages except the $out, $merge, $geoNear, $changeStream, and $changeStreamSplitLargeEvent stages can appear multiple times in a pipeline.

So we can repeat most stages, and do something like this to get all books from 2011 with 100 pages (although it can make sense or not)

```js
db.books.aggregate([{$match: {pages: 100}}, {$match: {year: 2011}}])
```



💻 Add several `$limt` stages at the end of the above aggregation, limiting to 1 book and see what happens

<details>
<summary>Answer</summary>
<div>

```js
db.books.aggregate([
    {$match: {pages: 100}}, 
    {$match: {year: 2011}},
    {$limit: 1},
    {$limit: 1},
])
```
</div>
</details>